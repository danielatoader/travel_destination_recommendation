<html>
  <head>
    <title>Travel Recommendation</title>
    <script type="text/javascript" src="brython.js"></script>
    <script type="text/javascript" src="brython_stdlib.js"></script>
  <link rel="icon" href="data:;base64,=">
  </head>
  <body onload="brython(1)">
    <script type="text/python3">
      from browser import document, ajax
      import json
      import warnings
 
      def show_results(response):
          if response.status==200 or response.status==0:
              document["result"].html = response.text
          else:
              warnings.warn(response.text)
      def get_prediction(ev):
          """Get the predicted probability."""
          req = ajax.ajax()
          req.bind('complete', show_results)
          req.open('POST', '/scores', False)
          req.set_header('content-type','application/json')
          user_inputs = {
              'user_input_forest': document['user_input_forest'].value,
              'user_input_castle': document['user_input_castle'].value,
              'user_input_water': document['user_input_water'].value,
              'user_input_historical': document['user_input_historical'].value,
              'user_input_urban': document['user_input_urban'].value
            }
          data = json.dumps(user_inputs)
          req.send(data)
          return user_inputs
      
      def showtext(ev):
         document["random_recs"].style.display = "inline"
      
      document["score_button"].bind("click", get_prediction)
      
      def change_place_names(ev, list_of_cities=['1','2','3','4','5','6','7','8','9','0']):
          document["place_1"].textContent = list_of_cities[0]
          document["place_2"].textContent = list_of_cities[1]
          document["place_3"].textContent = list_of_cities[2]
          document["place_4"].textContent = list_of_cities[3]
          document["place_5"].textContent = list_of_cities[4]
          document["place_6"].textContent = list_of_cities[5]
          document["place_7"].textContent = list_of_cities[6]
          document["place_8"].textContent = list_of_cities[7]
          document["place_9"].textContent = list_of_cities[8]
          document["place_10"].textContent = list_of_cities[9]
      
      document["rate_more_button"].bind("click", change_place_names, showtext)
    </script>
    <h1>Rate importance on a scale of 0 to 10</h1>  
    <div>Forest/Mountain</div>
    <textarea id="user_input_forest"></textarea>
    <div>Palaces/Castles</div>
    <textarea id="user_input_castle"></textarea>
    <div>Coastal/Water</div>
    <textarea id="user_input_water"></textarea>
    <div>Historical</div>
    <textarea id="user_input_historical"></textarea>
    <div>Urban</div>
    <textarea id="user_input_urban"></textarea>
    <button id="score_button">Submit</button>
    <button id="rate_more_button">Rate More</button>
    <div id="result"></div>
      
    
    
    <div id="random_recs" style="display:none">   
        <h2>If you have been and liked type 1, if you have been and disliked type -1, if you have not been type 0</h2>
        <div id=place_1>place 1</div>
        <textarea id="place_1_rating"></textarea>
        <div id=place_2>place 2</div>
        <textarea id="place_2_rating"></textarea>
        <div id=place_3>place 3</div>
        <textarea id="place_3_rating"></textarea>
        <div id=place_4>place 4</div>
        <textarea id="place_4_rating"></textarea>
        <div id=place_5>place 5</div>
        <textarea id="place_5_rating"></textarea>
        <div id=place_6>place 6</div>
        <textarea id="place_6_rating"></textarea>
        <div id=place_7>place 7</div>
        <textarea id="place_7_rating"></textarea>
        <div id=place_8>place 8</div>
        <textarea id="place_8_rating"></textarea>
        <div id=place_9>place 9</div>
        <textarea id="place_9_rating"></textarea>
        <div id=place_10>place 10</div>
        <textarea id="place_10_rating"></textarea>
        <button id="city_rating_button">Find Top 5 Destinations</button>
     </div>
  </body>
</html>